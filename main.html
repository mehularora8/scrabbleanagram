<!DOCTYPE html>
<html>
<head>
	<title></title>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
	<link rel="stylesheet" type="text/css" href="main.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
</head>
<body>
	<div class="container">
		<div class="apd apd0">
			<div class="left">
				<div class="blackcover"></div>
				<div class="cover"><div class="hinword"></div><div class="hinmean"></div><div class="engword"></div><div class="engmean"></div></div>
			</div>
			<div class="right">
				<div class="char">
				</div>
				<div class="arrow"><img src="arrows.png"></div>

				<div class="answer">
				</div>
				<div class='rect'></div> 
				<br> 
				
			</div>	

		</div>
	</div>
	<div class=" actions">
		<div class="highscore">High Score: <span class="hs"></span></div>
		<div class="score">Score:  <span class="ns"></span></div>
		<div class="button reveal"><span>Reveal Answer <br> उत्तर प्रकट करें</span></div>
		<div class="button submit"><span>Check Answer<br> उत्तर चेक करें</span> </div>
		<div class=" button reset"><span>Reset Answer<br>फिर से शुरू करें</span></div>
		<div class="hin">En |  ही</div>
	</div>
	<script type="text/javascript">

		var words=[
		["तरकारी","Vegetable","सब्ज़ी; शाक", "A plant or root used as food, especially in dishes."],
		["तमाशबीन", "Onlooker", "तमाशा देखने की क्रिया या भाव" , "Someone who watches something that is happening in a public place but is not involved in it"],
		["अकसर", "Commonly", "अधिकतर","often or usually"],
		["अँगीठी", "Brazier"," आग जलाने का मिट्टी या लोहे का बना चूल्हे जैसा पात्र","A metal container for burning coal, wood, etc."],
		["आकाश", "Sky", " आसमान" , "The area above the earth, in which clouds, the sun, etc. can be seen"],
		["आज्ञाकारिता" , "Obedience", "आदेश, अनुरोध, या कानून के अनुपालन" ,"Compliance with an order, request, or law."],
		["विमान","Airplane", "एक वाहन जो उड़ने के लिए प्रयोग किया जाता है", "A vehicle used to fly"],
		["पुस्तकें" , "Books" , "एक लिखित कार्य जिसका प्रयोग शैक्षणिक उद्देश्यों के लिए किया जाता है।" , "A written work which is used for educational purposes."],
		["बिस्तर", "Bed", "नींद या आराम के लिए फर्नीचर का एक टुकड़ा" , "A piece of furniture for sleep or rest"],
		["इकतालीस", "Forty One", "एक संख्या","A Number"],
		["स्नानघर", "Bathroom", "एक कमरा जिसमें शॉवर और एक सिंक और शौचालय शामिल है।", "A room containing shower and also a sink and a toilet."],
		["इत्तेफाक", "Coincidence", "कनेक्शन के बिना घटनाओं की एक सहमति।" ,"A concurrence of events without connection."],
		["ढोलकिया", "Drummer" , "एक व्यक्ति जो ढोलक बजाता है" ,"A person who plays a drum"],
		["ढीलापन", "Laxity","कठोरता या देखभाल की कमी।","Lack of strictness or care."],
		["संघर्ष", "Struggle" , "संयम से मुक्त होने के लिए एक सशक्त प्रयास।" , "A forceful effort to get free of restraint."],
		["संचारक" , "Communicator" , "एक व्यक्ति जो जानकारी व्यक्त या विनिमय करने में सक्षम है।" , "A person who is able to convey or exchange information."],
		["संगदिल", "Melodious" ,"उत्पादन और हैशिंग कृपया धुन"," Poducing or having a pleasant tune"],
		["सामान्यतया","Ordinarily","आमतौर पर","In a normal way"],
		["साहित्य", "Literature" , "लिखित कार्य जिन्हें श्रेष्ठ या स्थायी कलात्मक योग्यता माना जाता है।" , "Written works which are considered of superior or lasting artistic merit."],
		["फलदायक", "Fruitful", "भूमि जो फल की उच्च मात्रा पैदा करती है", "Producing much fruit"],
		["नम्रता" , "Meekness", "अधीनता", "Submissiveness."],
		["निगरानी" , "Surveillance", "निकट अवलोकन, विशेष रूप से एक संदिग्ध जासूस या आपराधिक के।" ,"Close observation, especially of a suspected spy or criminal."],
		["पछतावा", "Remorse", "गलत कार्रवाई के लिए गहरा अफसोस या अपराध","Deep regret or guilt for a wrong committed"],
		["पंडिताई", "Scholarship", "अकादमिक अध्ययन या उपलब्धि; एक उच्च स्तर की सीखना","Academic study or achievement; learning of a high level."],
		["बचकाना", "Childish" , "एक बच्चे के लिए उपयुक्त है" , "Appropriate to a child"],
		["बढ़ोत्तरी" , "Increase" , "बढ़ने या अधिक बनाने का एक उदाहरण।" ,"An instance of growing or making greater."]
		];

		var score = 0;
		var inithigh = localStorage.getItem('high');
		$(".hs").html(inithigh)
		$(".ns").html(score)
		function getRandomInt(max) {
			return Math.floor(Math.random() * Math.floor(max));
		}

		function randomsort(a, b) { 
			return Math.random()>.5 ? -1 : 1;
		}

		var qsNo = 0;
		var initint = 0;
		var initText
		function nWord(){
			var rand = getRandomInt(25);	
			var newWord = words[rand][0]
			console.log(newWord)
			var arrStr = newWord;
			var randomStr = arrStr.split('').sort(randomsort); 
			v = randomStr
			initText = newWord	
			initint = rand;		
			return v
		}
		var initwid = 60
		var x = nWord();
		for (i = 0; i < x.length; i++) { 
			$(".apd0 .char").append("<span class='character c1' id='c'>"+x[i]+"</span>")
		}
		$(".apd0  .c1" ).draggable()

		$(".apd0 .rect").droppable({
			drop: function(event, ui) {
				$(".apd0 .rect").append(($(ui.draggable).html()))
				var tempText = $(".apd0 .rect").html();
				initwid+=12
				$(".apd0 .rect").css({"width":initwid+"px"})
				$(".apd0 .rect").empty();
				$(".apd0 .rect").append(tempText)
				$($(ui.draggable)).remove()
			}
		});

		var varname = "apd"+qsNo; 
		var change = 0;
		var spl = x;
		function animation(){
			$(".container").append("<div class='apd "+varname+"'><div class='left'><div class='blackcover'></div><div class='cover'><div class='hinword'></div><div class='hinmean'></div><div class='engword'></div><div class='engmean'></div></div></div><div class='right'><div class='char'></div><div class='arrow'><img src='arrows.png'></div><div class='answer'></div><div class='rect'></div></div></div>")
			spl = nWord()
			
			
			for( i=0; i<spl.length; i++){
				$("."+varname+" .char").append("<span class='character c1' id='c'>"+spl[i]+"</span>")
			}
			$("."+varname+"  .c1" ).draggable();
			$("."+varname+" .rect").droppable({
				drop: function(event, ui) {
					$("."+varname+" .rect").append(($(ui.draggable).html()))
					var tempText = $("."+varname+" .rect").html();
					$("."+varname+" .rect").css({"width":"+=12px"})	
					$("."+varname+" .rect").empty();
					$("."+varname+" .rect").append(tempText)
					$($(ui.draggable)).remove()
				}});
			$("."+varname+".rect").css({"width":""})
			setTimeout (function(){
				change = change - 100
				console.log(change)
				changetext = change+"vw"
				$(".container").css({"left":changetext})

			}, 3000)

		}

		function endscreen(){
			varname = "apd"+qsNo; 
			$(".container").append("<div class='apd "+varname+"'><div class='endleft'>Thank you for playing!</div><div class='endright' style='color:#E84356;'>खेलने के लिए धन्यवाद!</div></div>")

			/*$(".rect").css({"width":""})*/
			setTimeout (function(){
				change = change - 100
				console.log(change)
				changetext = change+"vw"
				$(".container").css({"left":changetext})

			}, 4000)

		}
		$(".submit").click(function () {
			var complete = $("."+varname+" .rect").html();
			$("."+varname+" .char").empty();
			if (complete==initText) {
				$("."+varname+" .rect").empty();
				$("."+varname+" .arrow").css({"display":"none"})
				$("."+varname+" .rect").html("<div class='trs'><img  src='correct.png'></div>")
				$("."+varname+" .rect").css({"width":"150px", "height":"150px"})
				$("."+varname+" .rect .trs").css({"transform":"scale(2.5)"})
				score++
				$("."+varname+" .rect .trs").css({"transform":"scale(2)"})
				qsNo++
				$(".ns").empty()
				$(".ns").html(score)
				console.log(qsNo)
				$(".engword").append("<b>English Translation: </b>"+words[initint][1])
				$(".hinmean").append("<b> अर्थ: </b>"+words[initint][2])
				$(".engmean").append("<b>English Meaning:</b> "+words[initint][3])
				$(".hinword").append("<b> शब्द: </b>"+words[initint][0])
				varname = "apd"+qsNo; 
				animation();	
			}
			else{
				$("."+varname+" .rect").empty();
				$("."+varname+" .arrow").css({"display":"none"})
				$("."+varname+" .rect").html("<div class='trs'><img  src='wrong.png'></div>")
				$("."+varname+" .rect").css({"width":"150px", "height":"150px"})
				$("."+varname+" .rect .trs").css({"transform":"scale(2.5)"})
				score++
				$("."+varname+" .rect .trs").css({"transform":"scale(2)"})
				qsNo++
				$(".ns").empty()
				$(".ns").html(score)
				console.log(qsNo)
				$(".engword").append("<b>English Translation: </b>"+words[initint][1])
				$(".hinmean").append("<b> अर्थ: </b>"+words[initint][2])
				$(".engmean").append("<b>English Meaning:</b> "+words[initint][3])
				$(".hinword").append("<b> शब्द: </b>"+words[initint][0])
				varname = "apd"+qsNo; 
				endscreen();
				if (inithigh<score) {
					$(".hs").html(score)
					localStorage.setItem('high', JSON.stringify(score));
				}
			}
		})

		$(".hin").click(function(){
			$(".button span").css({"top":"-30px"})
		})

		$(".reveal").click(function(){
			$("."+varname+" .char").empty();
			$("."+varname+" .char").css({"width":"60px"});
			$("."+varname+" .arrow").css({"display":"none"})
			$("."+varname+" .rect").html("<div class='trs'><img  src='wrong.png'></div>")
			$("."+varname+" .rect").css({"width":"150px", "height":"150px"})
			$("."+varname+" .rect .trs").css({"transform":"scale(2.5)"})
			if (inithigh<score) {
				$(".hs").html(score)
				localStorage.setItem('high', JSON.stringify(score));
			}
			$(".engword").append("<b>English Translation: </b>"+words[initint][1])
			$(".hinmean").append("<b> अर्थ: </b>"+words[initint][2])
			$(".engmean").append("<b>English Meaning:</b> "+words[initint][3])
			$(".hinword").append("<b> शब्द: </b>"+words[initint][0])
			endscreen()
			$(".actions").hide()
		})

		$(".reset").click(function () {
			$("."+varname+" .rect").empty();
			$("."+varname+" .char").empty();
			$("."+varname+" .rect").css({"width":"60px"})
			initwid  = 60;
			for( i=0; i<spl.length; i++){
				$("."+varname+" .char").append("<span class='character c1' id='c'>"+spl[i]+"</span>")
			}

			$("."+varname+"  .c1" ).draggable();
		})
	</script>
</body>
</html>